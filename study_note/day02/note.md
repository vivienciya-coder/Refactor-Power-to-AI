# Day 2: 基础提示词结构教程

> **学习日期**: 2020-02-09
> **学习者**: 94年前端转AI  
> **状态**: 进行中

---

## 一、今日目标

- [ ] 目标1
- [ ] 目标2
- [ ] 目标3

---

## 二、核心知识概述
### 2.1 2种基础类型的提示词结构以及提示词模板 对话链
- 单轮提示词 single turn propmts  适用于快速、直接的查询
```
解释： 你跟ai说一句 ai回答一句 ai只关注当下的输入
```
- 多轮提示词 multi-turn propmts 能实现更复杂、具有上下文感知能力（context-aware）的交互
```
解释： 和ai沟通时 他需要记住对话历史 每次跟他说话 都需要把之前说过什么一次性的告诉他
```
- 提示词模板 Prompt Templates 可以让提示词一致并且复用
- 对话链 (Conversation Chains) 在和ai的多次交互中 维持沟通的连贯性  多轮提示需要这个技术来实现

### 2.2  langchain_core的学习 记录了部分 更详细的见代码内部注释
- langchain_core.prompts属性 MessagesPlaceholder：消息占位符，用于在对话流中动态插入历史记录。
- langchain_core.output_parsers属性 StrOutputParser：输出解析器，用于将 AI 的复杂对象简化为纯文本字符串。
### 2.3 📝 今日学习总结（深度点评版）
#### 1. 沟通方式的本质：通信协议的选择
*   **你的理解**：不同内容用不同方式。单轮只关注当下（快拆快办），多轮结合上下文（长效跟踪）。
*   **深度点评**：这本质上是在做 **“通信协议选择”**。
    *   **单轮（Single-turn）**：属于 **HTTP/Stateless** 思维。追求单次交互的低耦合与高效率，模型不背负历史包袱，处理原子化任务。
    *   **多轮（Multi-turn）**：属于 **WebSocket/Session** 思维。通过建立有状态的会话，实现“上下文感知（Context-aware）”，追求逻辑的连贯性和深度推理。

#### 2. 单轮提示词：孤岛式的精准打击
*   **你的理解**：结构化提示词 + 明确输出结果，流程相对直接。
*   **深度点评**：单轮的难点在于 **“指令的绝对精准”**。
    *   由于没有二次修正（Follow-up）的机会，你必须在一次交互中，将任务（Task）、背景（Context）和约束（Constraints）封装成一个“逻辑闭环”，做到滴水不漏，这对 Prompt 架构的完整性要求极高。

#### 3. 多轮提示词的三步走策略（精髓）
这是实现“AI 记忆”的核心架构，也是将 AI 从“对话框”转为“工程组件”的关键：

*   **第一步：角色设定 (System Message)**
    *   **技术类比**：**初始化全局变量和运行环境**。
    *   **作用**：在 API 层面为模型注入“人格”或“专家背景”，它决定了模型后续所有逻辑处理的“权点”和倾向。
*   **第二步：占位存对话 (MessagesPlaceholder)**
    *   **技术类比**：**在 Prompt 树里开辟一个 Dynamic Buffer（动态缓冲区）**。
    *   **核心感悟**：这是今天理解最透彻的点——**“占位置存对话”**。它不仅是一个语法，更是数据结构上的设计，负责将不断增长的历史记录数组（History Array）实时注入到推理链条中。
*   **第三步：输入提问 (Human Message)**
    *   **技术类比**：**驱动逻辑的 Trigger（触发器）**。
    *   **作用**：这是每一轮交互的起点。它携带最鲜活的用户数据，触碰前面的“环境”和“记忆”，最终引爆模型的推理输出。


---

## 三、实践记录

### 3.1 环境/代码
```python
代码片段
```

### 3.2 问题排错
| 问题 | 现象 | 解决 | 原理 |
|------|------|------|------|
| 简述 | 错误信息 | 方案 | 为什么 |
| VScode中为Markdown文件配置的 快捷代码片段不生效 | 在 .json 中配置了 prefix，但在 .md 文件输入时无代码补全提示 | [在 settings.json 中开启 editor.quickSuggestions 针对 markdown 的配置](#solution-snippets) | VS Code 默认在 Markdown 中关闭了“输入即提示”，以防干扰正常的文档编写 |

> ### 💡 实践心得
1. : 配置方法：打开setting.json文件 加入一下配置 <a id="solution-snippets"></a>
```
 "[markdown]": {
        "editor.quickSuggestions": {
            "other": true,
            "comments": true,
            "strings": true
        }
    }
```

---

## 四、与AI协作记录

**我的提问**:
```
当时怎么问的
```

**AI的关键启发**:
- 收获1
- 收获2

---

## 五、明日计划

- [ ] 下一步1
- [ ] 下一步2

---

## 参考资料

- 待补充资料（暂无链接）
